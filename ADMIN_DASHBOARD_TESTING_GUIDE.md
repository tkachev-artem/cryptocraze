# üìä Admin Dashboard - –ü–æ–ª–Ω–æ–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## üéØ –û–±–∑–æ—Ä
–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ Admin Dashboard –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ –∏—Ö –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤
```bash
node tests/admin-dashboard.test.js
```

---

## üìã –°—Ö–µ–º–∞ —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

### üîê 1. –î–û–°–¢–£–ü –ö –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–ò

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:5173`
2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google OAuth
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5173/admin/dashboard`
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ –í–∏–¥–Ω—ã –±–ª–æ–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

---

### üë• 2. USER METRICS (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏)

#### 2.1 Total Users & Active Users
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ "Total Users", "Daily Active Users"
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞
3. –ó–∞–π–¥–∏—Ç–µ –∫–∞–∫ –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á–µ—Ä–µ–∑ Google OAuth
4. –û–±–Ω–æ–≤–∏—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (F5)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Total Users —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å –Ω–∞ +1
- ‚úÖ Daily Active Users —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å –Ω–∞ +1

#### 2.2 Retention Metrics (D1, D3, D7, D30)
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –í –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é "User Retention"
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –º–µ—Ç—Ä–∏–∫–∏ "Day 1 Retention", "Day 7 Retention" –∏ —Ç.–¥.

**–ß–µ—Ä–µ–∑ API (–¥–ª—è —Ç–æ—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏):**
```bash
curl -s "http://localhost:3001/api/admin/analytics/overview-v2" | jq '.users | {retention_d1, retention_d7, retention_d30}'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –±–æ–ª—å—à–µ 0%
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–µ—Ä–Ω—É–≤—à–∏—Ö—Å—è —á–µ—Ä–µ–∑ N –¥–Ω–µ–π

---

### üéì 3. TUTORIAL METRICS (–¢—É—Ç–æ—Ä–∏–∞–ª –º–µ—Ç—Ä–∏–∫–∏)

#### 3.1 Tutorial Completion Rate
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É: `http://localhost:5173/tutorial`
2. –ü—Ä–æ–π–¥–∏—Ç–µ –≤–µ—Å—å —Ç—É—Ç–æ—Ä–∏–∞–ª –¥–æ –∫–æ–Ω—Ü–∞ (–Ω–∞–∂–º–∏—Ç–µ "Finish")
3. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. –ù–∞–π–¥–∏—Ç–µ "Tutorial Completion" –º–µ—Ç—Ä–∏–∫—É

#### 3.2 Tutorial Skip Rate  
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É: `http://localhost:5173/tutorial`
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Skip Tutorial" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. –ù–∞–π–¥–∏—Ç–µ "Tutorial Skip Rate" –º–µ—Ç—Ä–∏–∫—É

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Tutorial Completion Rate –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç % –∑–∞–≤–µ—Ä—à–∏–≤—à–∏—Ö
- ‚úÖ Tutorial Skip Rate –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç % –ø—Ä–æ–ø—É—Å—Ç–∏–≤—à–∏—Ö
- ‚úÖ –°—É–º–º–∞ –¥–≤—É—Ö –º–µ—Ç—Ä–∏–∫ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç–∞—Ä—Ç–æ–≤–∞–≤—à–∏—Ö

---

### üõçÔ∏è 4. TRADING METRICS (–¢–æ—Ä–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏)

#### 4.1 Active Deals & Total Trades
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ—Ä–≥–æ–≤–ª–∏: `http://localhost:5173/`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–¥–µ–ª–æ–∫:
   - –í—ã–±–µ—Ä–∏—Ç–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, BTC)
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, $100)
   - –í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (UP –∏–ª–∏ DOWN)
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–¥–µ–ª–∫–∏
3. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –∏ –æ–±–Ω–æ–≤–∏—Ç–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Active Deals —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å
- ‚úÖ Total Trades —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å
- ‚úÖ Trading Users —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å

#### 4.2 Success Rate & PnL
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –ø–æ–∫–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–¥–µ–ª–∫–∏ –∑–∞–∫—Ä–æ—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. –ò–ª–∏ –∑–∞–∫—Ä–æ–π—Ç–µ —Å–¥–µ–ª–∫–∏ –≤—Ä—É—á–Ω—É—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
3. –û–±–Ω–æ–≤–∏—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Success Rate –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç % –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
- ‚úÖ Total PnL –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—â—É—é –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫

---

### üí∞ 5. REVENUE METRICS (–î–æ—Ö–æ–¥–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏)

#### 5.1 Premium Revenue
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–µ–º–∏—É–º: `http://localhost:5173/premium`
2. –ö—É–ø–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞)
3. –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–∫—É–ø–∫–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

#### 5.2 ARPU & ARPPU
**–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ API:**
```bash
curl -s "http://localhost:3001/api/admin/analytics/overview-v2" | jq '.revenue | {totalRevenue, arpu, arppu, payingUsers, conversionRate}'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ ARPU (Average Revenue Per User) > 0
- ‚úÖ ARPPU (Average Revenue Per Paying User) > 0
- ‚úÖ Conversion Rate –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç % –ø–ª–∞—Ç—è—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

### üéØ 6. ENGAGEMENT METRICS (–í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å)

#### 6.1 Screen Views
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü—Ä–æ–π–¥–∏—Ç–µ—Å—å –ø–æ —Ä–∞–∑–Ω—ã–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º —Å–∞–π—Ç–∞:
   - `http://localhost:5173/` (–≥–ª–∞–≤–Ω–∞—è)
   - `http://localhost:5173/pro` (–ø—Ä–æ —Ä–µ–∂–∏–º)
   - `http://localhost:5173/tutorial` (—Ç—É—Ç–æ—Ä–∏–∞–ª)
   - `http://localhost:5173/admin/dashboard` (–∞–¥–º–∏–Ω–∫–∞)
2. –ö–∞–∂–¥—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç screen_view —Å–æ–±—ã—Ç–∏–µ
3. –û–±–Ω–æ–≤–∏—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ "Screens Opened" —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å –∫–∞–∂–¥—ã–º –ø–µ—Ä–µ—Ö–æ–¥–æ–º

#### 6.2 Sessions & Session Duration
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ü—Ä–æ–≤–µ–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –Ω–∞ —Å–∞–π—Ç–µ
2. –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
3. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–µ –≤–∫–ª–∞–¥–∫–∏/–æ–∫–Ω–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Total Sessions —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ Avg Session Duration –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏
- ‚úÖ Avg Sessions Per User –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Å—Å–∏–π –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

### üì∫ 7. AD METRICS (–†–µ–∫–ª–∞–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏)

#### 7.1 Ad Impressions & Clicks
**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–µ–∫–ª–∞–º–∞):**
1. –ù–∞–π–¥–∏—Ç–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –±–∞–Ω–Ω–µ—Ä—ã –Ω–∞ —Å–∞–π—Ç–µ
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ä–µ–∫–ª–∞–º—É (impression)
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ —Ä–µ–∫–ª–∞–º–µ (click)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ API:**
```bash
# –°–æ–∑–¥–∞—Ç—å ad impression
curl -X POST http://localhost:3001/api/test/analytics -H "Content-Type: application/json" -d '{"userId": "123", "eventType": "ad_impression", "eventData": {"adType": "banner"}}'

# –°–æ–∑–¥–∞—Ç—å ad click
curl -X POST http://localhost:3001/api/test/analytics -H "Content-Type: application/json" -d '{"userId": "123", "eventType": "ad_click", "eventData": {"adType": "banner"}}'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Total Impressions —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ Total Clicks —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è  
- ‚úÖ Avg CTR –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Click-Through Rate
- ‚úÖ Click-to-Install Rate –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏—é

---

## üîß –û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ ClickHouse –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
curl -s "http://localhost:3001/api/admin/clickhouse/health" | jq .
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ:
1. **Network tab** - –∏—â–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/analytics/batch`
2. **Console tab** - –∏—â–∏—Ç–µ –ª–æ–≥–∏ `[Analytics]`

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ª–æ–≥–æ–≤
–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:
```
[Analytics Batch] Processing events: {...}
[ClickHouse Service] ‚úÖ Successfully inserted user event
```

---

## üìä API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
```bash
# –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞
curl -s "http://localhost:3001/api/admin/analytics/overview-v2" | jq .

# –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏
curl -s "http://localhost:3001/api/admin/analytics/overview-v2" | jq '.users'

# –¢–æ–ª—å–∫–æ —Ç—É—Ç–æ—Ä–∏–∞–ª –º–µ—Ç—Ä–∏–∫–∏
curl -s "http://localhost:3001/api/admin/analytics/overview-v2" | jq '.engagement | {tutorialCompletionRate, tutorialSkipRate}'

# –¢–æ–ª—å–∫–æ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
curl -s "http://localhost:3001/api/admin/analytics/overview-v2" | jq '.adMetrics'
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
```bash
# Tutorial skip
curl -X POST http://localhost:3001/api/test/analytics -H "Content-Type: application/json" -d '{"userId": "test1", "eventType": "tutorial_progress", "eventData": {"action": "skip", "step": "main_tutorial"}}'

# Tutorial complete
curl -X POST http://localhost:3001/api/test/analytics -H "Content-Type: application/json" -d '{"userId": "test2", "eventType": "tutorial_progress", "eventData": {"action": "complete", "step": "main_tutorial"}}'

# User registration
curl -X POST http://localhost:3001/api/test/analytics -H "Content-Type: application/json" -d '{"userId": "test3", "eventType": "user_register", "eventData": {"registrationMethod": "test"}}'

# Screen view
curl -X POST http://localhost:3001/api/test/analytics -H "Content-Type: application/json" -d '{"userId": "test4", "eventType": "screen_view", "eventData": {"screen": "/dashboard"}}'
```

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

### –ü–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º:
- [ ] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (`npm run fullstack`)
- [ ] ClickHouse —Ä–∞–±–æ—Ç–∞–µ—Ç (docker)
- [ ] –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ (`/admin/dashboard`)
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- [ ] **Total Users** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] **Daily Active Users** - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–æ–≤—ã—Ö –ª–æ–≥–∏–Ω–∞—Ö
- [ ] **Tutorial Completion Rate** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç—É—Ç–æ—Ä–∏–∞–ª–∞
- [ ] **Tutorial Skip Rate** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ —Ç—É—Ç–æ—Ä–∏–∞–ª–∞
- [ ] **Retention D1/D7/D30** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ–Ω—Ç—ã > 0
- [ ] **Active Deals** - —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–¥–µ–ª–æ–∫
- [ ] **Trading Success Rate** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç % –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
- [ ] **Total Revenue** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–æ—Ö–æ–¥—ã
- [ ] **ARPU/ARPPU** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ä–µ–¥–Ω–∏–π –¥–æ—Ö–æ–¥ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] **Screens Opened** - —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- [ ] **Ad Impressions/Clicks** - —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö
- [ ] **Avg Session Duration** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–π

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è < 5 —Å–µ–∫
- [ ] API –æ—Ç–≤–µ—á–∞–µ—Ç < 10 —Å–µ–∫
- [ ] –ù–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π –≤ UI

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ **12 –æ—Å–Ω–æ–≤–Ω—ã—Ö –≥—Ä—É–ø–ø –º–µ—Ç—Ä–∏–∫** Admin Dashboard –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:

1. ‚úÖ **User Metrics** (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, retention)
2. ‚úÖ **Tutorial Metrics** (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ, –ø—Ä–æ–ø—É—Å–∫–∏)
3. ‚úÖ **Trading Metrics** (—Å–¥–µ–ª–∫–∏, —É—Å–ø–µ—à–Ω–æ—Å—Ç—å, PnL)
4. ‚úÖ **Revenue Metrics** (–¥–æ—Ö–æ–¥—ã, ARPU, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏)
5. ‚úÖ **Engagement Metrics** (screen views, —Å–µ—Å—Å–∏–∏)
6. ‚úÖ **Ad Metrics** (–ø–æ–∫–∞–∑—ã, –∫–ª–∏–∫–∏, CTR)

–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!