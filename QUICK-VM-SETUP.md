# 🚀 Быстрое создание ВМ и деплой CryptoCraze

## 📋 Чек-лист создания ВМ

### 1️⃣ Создайте ВМ в Yandex Cloud

**Ссылка:** https://console.cloud.yandex.ru/

**Основные настройки:**
- 📝 **Имя:** `cryptocraze-prod`
- 💿 **ОС:** Ubuntu 22.04 LTS  
- 💻 **CPU:** 2+ vCPU
- 💾 **RAM:** 4+ GB
- 💾 **Диск:** 20+ GB SSD
- 🌐 **Публичный IP:** Да

**SSH ключ (ВАЖНО!):**
```

```

**Пользователь:** `ubuntu`

### 2️⃣ Настройте порты

**Группа безопасности (Security Group):**
- 🔐 SSH: порт 22
- 🌐 HTTP: порт 80
- 🔒 HTTPS: порт 443  
- 🎰 App: порт 3001

### 3️⃣ Запишите IP адрес

После создания ВМ запишите **публичный IP адрес**.

### 4️⃣ Автоматический деплой

Выполните команду с IP адресом новой ВМ:

```bash
./deploy-to-new-vm.sh НОВЫЙ_IP_АДРЕС
```

**Пример:**
```bash
./deploy-to-new-vm.sh 51.250.12.34
```

## 🎯 Что делает скрипт автоматически:

✅ Проверяет SSH подключение  
✅ Обновляет систему Ubuntu  
✅ Устанавливает Node.js 20  
✅ Устанавливает Redis  
✅ Загружает проект CryptoCraze  
✅ Устанавливает зависимости  
✅ Собирает приложение  
✅ Запускает сервер  
✅ Создает Cloudflare туннель  
✅ Выводит публичные URL

## ⏱️ Время деплоя: ~10-15 минут

## 🎰 Результат

После успешного деплоя получите:

```
🌍 ПУБЛИЧНЫЕ АДРЕСА:
🌐 Основной сайт: https://abc123.trycloudflare.com
📊 API здоровья: https://abc123.trycloudflare.com/health
🎰 Тест рулетки: https://abc123.trycloudflare.com (раздел Rewards)
```

**Рулетка будет работать корректно!** 🎰✨

## ❓ Если что-то не работает

1. **Проверьте SSH подключение:**
   ```bash
   ssh ubuntu@НОВЫЙ_IP_АДРЕС
   ```

2. **Проверьте логи на сервере:**
   ```bash
   ssh ubuntu@НОВЫЙ_IP_АДРЕС 'cd cryptocraze && tail -f app.log'
   ```

3. **Проверьте статус приложения:**
   ```bash
   curl http://НОВЫЙ_IP_АДРЕС:3001/health
   ```

## 🎉 Готово!

Создайте ВМ и запустите деплой - все остальное сделается автоматически!