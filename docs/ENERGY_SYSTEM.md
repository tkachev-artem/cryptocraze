# üîã –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞

## –û–±–∑–æ—Ä

–≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å —ç–Ω–µ—Ä–≥–∏—é, –≤—ã–ø–æ–ª–Ω—è—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –æ—Ç 0 –¥–æ 100, –≥–¥–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 100 —ç–Ω–µ—Ä–≥–∏–∏ –∑–∞–¥–∞–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã**: `/api/energy/*`
- **–õ–æ–≥–∏–∫–∞**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —ç–Ω–µ—Ä–≥–∏–∏, –ø–æ–¥—Å—á–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å
- **–°–µ—Ä–≤–∏—Å**: `EnergyService` - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å API
- **–•—É–∫**: `useEnergy` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `EnergySystem` - UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å —ç–Ω–µ—Ä–≥–∏–∏
```http
GET /api/energy/progress
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "progress": 45
}
```

### 2. –î–æ–±–∞–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é
```http
POST /api/energy/add
Content-Type: application/json

{
  "amount": 25
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "newProgress": 70,
  "isCompleted": false,
  "completedTasks": 0
}
```

### 3. –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
```http
POST /api/energy/reset
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true
}
```

### 4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```http
GET /api/user/stats
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "balance": 10000.00,
  "freeBalance": 3000.00,
  "energyTasksBonus": 45,
  "tradesCount": 15,
  "isPremium": false
}
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ React

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
import { useEnergy } from '@/hooks/useEnergy';

const MyComponent = () => {
  const { 
    progress, 
    addEnergy, 
    isLoading, 
    error 
  } = useEnergy();

  const handleTaskComplete = async () => {
    const response = await addEnergy(30);
    if (response?.isCompleted) {
      console.log(`–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–π: ${response.completedTasks}`);
    }
  };

  return (
    <div>
      <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: {progress}/100</p>
      <button onClick={handleTaskComplete}>
        –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ
      </button>
    </div>
  );
};
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```tsx
import { EnergySystem } from '@/components/EnergySystem';

const App = () => {
  return (
    <div>
      <EnergySystem />
    </div>
  );
};
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

```typescript
// src/types/energy.ts
export type EnergyProgress = {
  progress: number;
};

export type EnergyAddRequest = {
  amount: number;
};

export type EnergyAddResponse = {
  newProgress: number;
  isCompleted: boolean;
  completedTasks: number;
};
```

### –°–µ—Ä–≤–∏—Å

```typescript
// src/services/energyService.ts
export class EnergyService {
  static async getProgress(): Promise<EnergyProgress> {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
  }
  
  static async addEnergy(amount: number): Promise<EnergyAddResponse> {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
  }
}
```

### –•—É–∫

```typescript
// src/hooks/useEnergy.ts
export const useEnergy = () => {
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –º–µ—Ç–æ–¥—ã
  return {
    progress,
    addEnergy,
    isLoading,
    error,
    // ... –¥—Ä—É–≥–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
  };
};
```

## üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### –ö–ª—é—á–∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

```json
{
  "energy": {
    "title": "–≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞",
    "progress": "–ü—Ä–æ–≥—Ä–µ—Å—Å",
    "completed": "–ó–∞–≤–µ—Ä—à–µ–Ω–æ",
    "bonus": "–ë–æ–Ω—É—Å –∑–∞–¥–∞–Ω–∏–π",
    "trades": "–°–¥–µ–ª–æ–∫",
    "energy": "—ç–Ω–µ—Ä–≥–∏–∏",
    "reset": "–°–±—Ä–æ—Å–∏—Ç—å",
    "error": "–û—à–∏–±–∫–∞ —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã",
    "confirmReset": "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å —ç–Ω–µ—Ä–≥–∏–∏?",
    "completedMessage": "–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! –ü—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —Å–±—Ä–æ—à–µ–Ω.",
    "remainingMessage": "–û—Å—Ç–∞–ª–æ—Å—å —ç–Ω–µ—Ä–≥–∏–∏: {{remaining}}"
  }
}
```

## üé® UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### EnergySystem

–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã:

- **–ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä** - –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **–ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏, —Å–±—Ä–æ—Å
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ–Ω—É—Å–∞—Ö –∏ —Å–¥–µ–ª–∫–∞—Ö
- **–°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏** - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–ê–Ω–∏–º–∞—Ü–∏–∏** - –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ê–ª–≥–æ—Ä–∏—Ç–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** –∏–∑ API
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏** –∫ —Ç–µ–∫—É—â–µ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è 100**:
   - –ï—Å–ª–∏ `–Ω–æ–≤—ã–π_–ø—Ä–æ–≥—Ä–µ—Å—Å >= 100`: –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
   - –ü–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
   - –°–±—Ä–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –¥–æ –æ—Å—Ç–∞—Ç–∫–∞
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI** —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –ü—Ä–∏–º–µ—Ä—ã

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ 30 —ç–Ω–µ—Ä–≥–∏–∏ –∫ –ø—Ä–æ–≥—Ä–µ—Å—Å—É 20:**
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `50/100` (–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ)

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ 30 —ç–Ω–µ—Ä–≥–∏–∏ –∫ –ø—Ä–æ–≥—Ä–µ—Å—Å—É 80:**
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `10/100` (1 –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ 150 —ç–Ω–µ—Ä–≥–∏–∏ –∫ –ø—Ä–æ–≥—Ä–µ—Å—Å—É 50:**
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `0/100` (2 –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```tsx
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Home
import { EnergySystem } from '@/components/EnergySystem';

export const Home = () => {
  return (
    <div>
      {/* –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
      <EnergySystem />
    </div>
  );
};
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∑–∞–¥–∞–Ω–∏—è—Ö

```tsx
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∑–∞–¥–∞–Ω–∏—è
import { useEnergy } from '@/hooks/useEnergy';

const TaskComponent = () => {
  const { addEnergy } = useEnergy();

  const completeTask = async () => {
    // –õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
    await addEnergy(25); // –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –∑–∞–¥–∞–Ω–∏–µ
  };
};
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

```bash
# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
curl -X GET /api/energy/progress

# –î–æ–±–∞–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é
curl -X POST /api/energy/add \
  -H "Content-Type: application/json" \
  -d '{"amount": 30}'

# –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
curl -X POST /api/energy/reset
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```tsx
// –¢–µ—Å—Ç —Ö—É–∫–∞
import { renderHook, act } from '@testing-library/react';
import { useEnergy } from '@/hooks/useEnergy';

test('useEnergy hook', async () => {
  const { result } = renderHook(() => useEnergy());
  
  await act(async () => {
    await result.current.addEnergy(25);
  });
  
  expect(result.current.progress).toBe(25);
});
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —ç–Ω–µ—Ä–≥–∏–µ–π 