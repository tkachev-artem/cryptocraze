import{j as e}from"./vendor-query-xVwBccZt.js";import{r as s,b as a}from"./vendor-react-DaALiM5L.js";import{g as t,A as l}from"./trading-DauNLBUI.js";import"./vendor-redux-Bn24jW_n.js";import"./vendor-charts-ioXX35je.js";import"./vendor-socket-CUkmNz_4.js";const r=()=>{const[r,n]=s.useState(null),[c,i]=s.useState(!1),[d,o]=s.useState(null),x=a(),{t:p}=t();return s.useEffect(()=>{let e=!1;return(async()=>{i(!0);try{const[s,a]=await Promise.all([fetch(`${l}/rewards`,{credentials:"include"}),fetch(`${l}/user/stats`,{credentials:"include"})]),t=await s.json();if(e||n(t),a.ok){const s=await a.json();e||o("number"==typeof s.rewardsCount?s.rewardsCount:null)}}catch(s){e||n([])}finally{e||i(!1)}})(),()=>{e=!0}},[]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"sticky top-0 z-30 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("button",{onClick:()=>{x(-1)},className:"flex items-center gap-2","aria-label":p("nav.back"),children:[e.jsx("img",{src:"/top-menu/back.svg",alt:p("nav.back"),className:"w-6 h-6"}),e.jsx("span",{className:"text-xl font-extrabold text-black",children:p("nav.back")})]}),e.jsx("div",{className:"w-6 h-6"})]})}),e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"flex items-center w-full h-[44px] px-4 rounded-[12px] border border-gray-200",children:[e.jsx("span",{className:"text-sm font-bold w-[84px]",children:p("rewards.level")||"Уровень"}),e.jsx("span",{className:"text-sm font-bold flex-1 text-left pl-4",children:p("rewards.accountMoney")||"Деньги на аккаунте"}),e.jsx("span",{className:"text-sm font-bold",children:p("rewards.reward")||"Награда"})]})}),e.jsxs("div",{className:"flex-1 px-4 pt-2 pb-6",children:[c&&e.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((s,a)=>e.jsx("div",{className:"py-[6px]",children:e.jsx("div",{className:"h-10 rounded-[12px] bg-gray-100 animate-pulse"})},a))}),!c&&r&&r.length>0&&e.jsx("div",{className:"space-y-2",children:r.map(s=>{const a=null!=d&&s.level===d;return e.jsx("div",{className:"py-[6px]",children:e.jsxs("div",{className:"relative flex items-center h-10 rounded-[12px] px-4 "+(a?"bg-[#F1F7FF] ring-2 ring-[#0C54EA]":"bg-[#F1F7FF]"),children:[e.jsx("span",{className:"text-base font-bold w-[84px] "+(a?"text-[#0C54EA]":"text-[#0C46BE] opacity-50"),children:s.level}),e.jsx("span",{className:"text-sm font-medium text-black flex-1 text-left pl-4",children:s.accountMoney.toLocaleString()}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-black",children:s.reward.toLocaleString()}),null!=s.proDays&&e.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-[#F5A600] text-black text-[11px] font-extrabold px-2 py-[2px] shrink-0","aria-label":p("rewards.proDays",{count:s.proDays})||`Про-Режим на ${String(s.proDays)} дня`,title:p("rewards.proDays",{count:s.proDays})||`Про-Режим на ${String(s.proDays)} дня`,children:e.jsxs("span",{children:["PRO ",s.proDays," ",p("rewards.daysShort")]})})]})]})},s.level)})}),!c&&r&&0===r.length&&e.jsx("div",{className:"py-8 text-center text-sm text-black opacity-50",children:p("common.noData")})]})]})};export{r as default};
